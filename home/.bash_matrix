##########################
# Matrix Configuration to load additional extensions into bash

###########################
# History Control
HISTCONTROL=ignoredups:ignorespace
HISTFILESIZE=5000
HISTSIZE=2000
HISTFILE="$HOME"/.bash_history

## Heavy handed shared terminal bash history
# export PROMPT_COMMAND="history -a; history -c; history -r; $PROMPT_COMMAND"

# See local libreadline for keymaps 
#~/.inputrc

###########################
# Uncomment lines to include the extensions

callback_pwd=`pwd`
cd "$HOME"

#
###########################
# Proxy configs to be loaded
if [ -n "$matrixproxy" ]; then
   source "$HOME"/.matrix/proxy/.bash_extension
fi

source "$HOME"/.matrix/functions/.bash_extension
source "$HOME"/.matrix/python/.bash_extension
source "$HOME"/.matrix/ruby/.bash_extension
source "$HOME"/.matrix/nodejs/.bash_extension
source "$HOME"/.matrix/go/.bash_extension
source "$HOME"/.matrix/completions/.bash_extension

# source ./.matrix/opt/something

##########################
# Final .matrix Commands to be executed
# Defined commonly in .matrix/functions

load_ssh_keys
symlink_alts
xpull_assign
coreutil_check

##########################
# Check for .matrix consistancy
check_matrix_online
check_matrix_local

##########################
# Additional non-global Configs/Function calls can go into ~/.bash_local
# such as 'extended_completions'
cd $callback_pwd
